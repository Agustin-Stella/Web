<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forrajeria Niki</title>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <!-- Header -->
<header class="header" id="header">
  <div class="container">
    <div class="header-content">
      <div class="logo">
        <img src="assets/images/logo1.jpg" alt="Forrajeria Niki" id="logoImg">
      </div>
      <nav class="nav">
        <a href="#ofertas" class="nav-link" data-page="ofertas">Ofertas</a>

        <div class="nav-dropdown">
          <a href="#" class="nav-link" id="categoriasBtn">Categorías</a>
          <div class="dropdown-menu" id="categoriasMenu">
            <!-- Se llena dinámicamente desde Firestore -->
          </div>
        </div>

        <a href="#nosotros" class="nav-link" data-page="nosotros">Nosotros</a>
        <a href="#guia" class="nav-link" data-page="guia">Guía de Compra</a>
      </nav>

      <div class="header-icons">
        <div class="icon-wrapper">
          <svg class="icon" id="wishlistIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
          </svg>
          <span class="badge" id="wishlistBadge">0</span>
        </div>
        <div class="icon-wrapper">
          <svg class="icon" id="cartIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 2L6.5 6M9 2h6m-6 0L6.5 6m8.5-4l2.5 4M6.5 6h11M6.5 6L5 21h14l-1.5-15"></path>
          </svg>
          <span class="badge" id="cartBadge">0</span>
        </div>
      </div>
    </div>
  </div>
</header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Página de Catálogo (PÁGINA PRINCIPAL CON DESTACADOS Y TODOS LOS PRODUCTOS) -->
        <section class="page catalog-page" id="page-catalog" style="display: block;">
            <div class="container">
                
                <!-- PRODUCTOS DESTACADOS ARRIBA -->
                <h1 class="page-title">Productos Destacados</h1>
                <div class="carousel-container">
                    <button class="carousel-btn carousel-btn-prev" id="carouselPrev">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 18l-6-6 6-6"/>
                        </svg>
                    </button>
                    <div class="carousel-wrapper">
                        <div class="carousel-track" id="landingGrid"></div>
                    </div>
                    <button class="carousel-btn carousel-btn-next" id="carouselNext">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 18l6-6-6-6"/>
                        </svg>
                    </button>
                </div>
                <div class="carousel-dots" id="carouselDots"></div>

                <!-- SEPARACIÓN -->
                <div style="height: 80px;"></div>
                
                <!-- CATÁLOGO COMPLETO CON FILTROS -->
                <div class="catalog-layout">
                    <!-- Sidebar -->
                    <aside class="sidebar">
                        <div class="search-box">
                            <input type="text" placeholder="Buscar producto..." id="searchInput">
                            <button id="searchBtn">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <path d="m21 21-4.35-4.35"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="filter-section">
                            <h3>Rubros</h3>
<select id="categoryFilter">
  <option value="">Todas las categorías</option>
</select>

                        </div>
                    </aside>

                    <!-- Products Area -->
                    <div class="products-area">
                        <div class="products-toolbar">
                            <select id="sortSelect">
                                <option value="default">Orden Por defecto</option>
                                <option value="price-asc">Precio - Más barato al más caro</option>
                                <option value="price-desc">Precio - Más caro al más barato</option>
                            </select>
                            <div class="products-count">
                                <span id="productsCount">Mostrando productos</span>
                            </div>
                        </div>
                        <div class="products-grid" id="catalogGrid"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Página de Ofertas -->
        <section class="page ofertas-page" id="page-ofertas" style="display: none;">
            <div class="container">
                <h1 class="page-title">OFERTAS DIARIAS!</h1>
                <div class="products-grid" id="ofertasGrid"></div>
            </div>
        </section>

        <!-- Página de Nosotros -->
        <section class="page nosotros-page" id="page-nosotros" style="display: none;">
            <div class="container">
                <div class="nosotros-header">
                    <p class="nosotros-subtitle">Nosotros Somos</p>
                    <h1 class="nosotros-title">Forrajeria Niki</h1>
                    <p class="nosotros-description">Comercializamos todas las lineas de productos de Limpieza.</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <h3>Envíos a todo el país</h3>
                        <p>Comprá desde casa</p>
                    </div>
                    <div class="feature-card">
                        <h3>Stock permanente</h3>
                        <p>Gran variedad de productos</p>
                    </div>
                    <div class="feature-card">
                        <h3>Todos los medios de pago</h3>
                        <p>Efectivo, tarjeta, mercadopago</p>
                    </div>
                    <div class="feature-card">
                        <h3>Sitio seguro</h3>
                        <p>Protegemos tus datos</p>
                    </div>
                </div>
                <div class="map-section">
                    <h2 class="map-title">Encontranos</h2>
                    <div class="map-container">
                        <iframe
                            src="https://www.google.com/maps?q=Piero+Astori+1750,+Cordoba+Argentina&output=embed"
                            width="100%"
                            height="450"
                            style="border:0; border-radius: 8px;"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                    <p class="map-address">Piero Astori 1750, Córdoba, Argentina</p>
                </div>
            </div>
        </section>

        <!-- Página de Guía de Compra -->
        <section class="page guia-page" id="page-guia" style="display: none;">
            <div class="container">
                <div class="guia-header">
                    <h1 class="page-title">¿Cómo realizar tu compra?</h1>
                    <p class="guia-intro">Seguí estos simples pasos para hacer tu pedido de forma rápida y segura</p>
                </div>

                <div class="guia-steps">
                    <!-- Paso 1 -->
                    <div class="guia-step">
                        <div class="step-number">
                            <span>1</span>
                        </div>
                        <div class="step-content">
                            <h2 class="step-title">Explorá nuestro catálogo</h2>
                            <p class="step-description">
                                Navegá por nuestra amplia selección de productos de limpieza. Podés usar la barra de búsqueda
                                para encontrar un producto específico o filtrar por categorías para ver solo los artículos que te interesan.
                                También podés ordenar los productos por precio para encontrar las mejores ofertas.
                            </p>
                            <div class="step-image">
                                <img src="assets/images/paso-a-paso/producto.png" alt="Catálogo de productos">
                            </div>
                            <div class="step-tips">
                                <p><strong>Tip:</strong> Hacé clic en cualquier producto para ver más detalles como descripción completa y características.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Paso 2 -->
                    <div class="guia-step">
                        <div class="step-number">
                            <span>2</span>
                        </div>
                        <div class="step-content">
                            <h2 class="step-title">Elegí la cantidad y agregá al carrito</h2>
                            <p class="step-description">
                                Una vez que encontraste el producto que buscás, hacé clic en él para ver los detalles.
                                En la ventana que se abre, podés seleccionar la cantidad que necesitás usando los botones + y -.
                                Cuando estés listo, hacé clic en el botón "AGREGAR" para añadir el producto a tu carrito.
                            </p>
                            <div class="step-image">
                                <img src="assets/images/paso-a-paso/elegir_cantidad_y_agregar_carrito.png" alt="Agregar al carrito">
                            </div>
                            <div class="step-tips">
                                <p><strong>Tip:</strong> Podés agregar varios productos diferentes antes de hacer tu pedido. El contador del carrito te mostrará cuántos productos tenés.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Paso 3 -->
                    <div class="guia-step">
                        <div class="step-number">
                            <span>3</span>
                        </div>
                        <div class="step-content">
                            <h2 class="step-title">Revisá tu carrito</h2>
                            <p class="step-description">
                                Hacé clic en el ícono del carrito en la parte superior derecha para ver todos los productos que seleccionaste.
                                En esta pantalla podés modificar las cantidades, eliminar productos que ya no querés, o vaciar el carrito completamente.
                                También verás el total de tu pedido calculado automáticamente.
                            </p>
                            <div class="step-image">
                                <img src="assets/images/paso-a-paso/Ir_carrito.png" alt="Ver carrito de compras">
                            </div>
                            <div class="step-tips">
                                <p><strong>Tip:</strong> Si querés seguir comprando, hacé clic en "CONTINUAR COMPRANDO" para volver al catálogo sin perder los productos de tu carrito.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Paso 4 -->
                    <div class="guia-step">
                        <div class="step-number">
                            <span>4</span>
                        </div>
                        <div class="step-content">
                            <h2 class="step-title">Finalizá tu pedido por WhatsApp</h2>
                            <p class="step-description">
                                Al hacer clic en "FINALIZAR PEDIDO", se abrirá WhatsApp automáticamente con un mensaje ya preparado
                                que contiene todos los detalles de tu compra: productos, cantidades, precios y tu información de entrega.
                                Solo tenés que revisar que todo esté correcto y enviar el mensaje. Nosotros recibiremos tu pedido
                                al instante y nos comunicaremos con vos para coordinar el pago y la entrega.
                            </p>
                            <div class="step-image">
                                <img src="assets/images/paso-a-paso/finalizar_compra.png" alt="Enviar pedido por WhatsApp">
                            </div>
                            <div class="step-tips">
                                <p><strong>Nota:</strong> Necesitás tener WhatsApp instalado en tu dispositivo. Una vez enviado el mensaje, nuestro equipo te responderá a la brevedad para confirmar tu pedido.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Paso 5 -->
                    <div class="guia-step">
                        <div class="step-number">
                            <span>5</span>
                        </div>
                        <div class="step-content">
                            <h2 class="step-title">Completá tus datos</h2>
                            <p class="step-description">
                                Cuando estés conforme con tu selección, hacé clic en "HACER PEDIDO". Se abrirá un formulario donde
                                necesitás completar tu nombre, apellido y dirección de entrega. También podés agregar una descripción
                                opcional con indicaciones especiales (por ejemplo: "Entregar por la tarde" o "Timbre roto, llamar al celular").
                            </p>
                            <div class="step-image">
                                <img src="assets/images/paso-a-paso/rellenar_detalles.png" alt="Completar datos de envío">
                            </div>
                            <div class="step-tips">
                                <p><strong>Importante:</strong> Asegurate de escribir correctamente tu dirección para que podamos realizar la entrega sin problemas.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sección de Preguntas Frecuentes -->
                <div class="faq-section">
                    <h2 class="faq-title">Preguntas Frecuentes</h2>

                    <div class="faq-item">
                        <h3>¿Puedo modificar mi pedido después de enviarlo?</h3>
                        <p>Sí, podés comunicarte con nosotros por WhatsApp inmediatamente después de enviar tu pedido para realizar cualquier modificación antes de que lo procesemos.</p>
                    </div>

                    <div class="faq-item">
                        <h3>¿Qué métodos de pago aceptan?</h3>
                        <p>Aceptamos efectivo, transferencia bancaria, Mercado Pago y tarjetas de crédito/débito. Podés coordinar el método de pago al confirmar tu pedido por WhatsApp.</p>
                    </div>

                    <div class="faq-item">
                        <h3>¿Hacen envíos a domicilio?</h3>
                        <p>Sí, realizamos envíos a domicilio en Córdoba capital y alrededores. El costo y tiempo de entrega se coordina por WhatsApp según tu ubicación.</p>
                    </div>

                    <div class="faq-item">
                        <h3>¿Puedo retirar mi pedido en el local?</h3>
                        <p>¡Por supuesto! Si preferís retirar tu pedido, indicalo en la descripción del pedido o avisanos por WhatsApp. Estamos en Piero Astori 1750, Córdoba.</p>
                    </div>

                    <div class="faq-item">
                        <h3>¿Tienen stock de todos los productos?</h3>
                        <p>Mantenemos stock permanente de la mayoría de nuestros productos. En caso de no tener disponibilidad de algún artículo, te avisaremos inmediatamente por WhatsApp al recibir tu pedido.</p>
                    </div>

                    <div class="faq-item">
                        <h3>¿Mi información está segura?</h3>
                        <p>Absolutamente. Tu información solo se usa para procesar tu pedido y nunca la compartimos con terceros. La comunicación por WhatsApp es directa y privada.</p>
                    </div>
                </div>

                <!-- Botón de acción -->
                <div class="guia-cta">
                    <h3>¿Listo para hacer tu pedido?</h3>
                    <button class="btn-primary btn-large" onclick="navigateTo('catalog')">Ir al Catálogo</button>
                </div>
            </div>
        </section>

        <!-- Página de Lista de Deseos -->
        <section class="page wishlist-page" id="page-wishlist" style="display: none;">
            <div class="container">
                <h1 class="page-title">Lista de deseos</h1>
                <div class="wishlist-content">
                    <div class="empty-state" id="emptyWishlist">
                        <p>Lista de deseos vacía</p>
                        <button class="btn-secondary" onclick="navigateTo('catalog')">Agregar productos</button>
                    </div>
                    <div class="wishlist-table" id="wishlistTable" style="display: none;">
                        <table>
                            <thead>
                                <tr>
                                    <th>IMAGEN</th>
                                    <th>PRODUCTO</th>
                                    <th>PRECIO UNITARIO</th>
                                    <th>AGREGAR</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="wishlistBody"></tbody>
                        </table>
                        <div class="wishlist-actions">
                            <button class="btn-secondary" onclick="navigateTo('catalog')">CONTINUAR COMPRANDO</button>
                            <button class="btn-secondary" onclick="clearWishlist()">LIMPIAR LISTA DE DESEOS</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Página de Carrito -->
        <section class="page cart-page" id="page-cart" style="display: none;">
            <div class="container">
                <h1 class="page-title">Carrito de Compras</h1>
                <div class="cart-content">
                    <div class="empty-state" id="emptyCart">
                        <p>El carrito está vacío</p>
                        <button class="btn-secondary" onclick="navigateTo('catalog')">Hacer compras</button>
                    </div>
                    <div class="cart-table" id="cartTable" style="display: none;">
                        <table>
                            <thead>
                                <tr>
                                    <th>IMAGEN</th>
                                    <th>PRODUCTO</th>
                                    <th>PRECIO UNITARIO</th>
                                    <th>CANT.</th>
                                    <th>SUBTOTAL</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="cartBody"></tbody>
                        </table>
                        <div class="cart-total">
                            <h3>Total: <span id="cartTotal">$0,00</span></h3>
                        </div>
                        <div class="cart-actions">
                            <button class="btn-secondary" onclick="navigateTo('catalog')">CONTINUAR COMPRANDO</button>
                            <button class="btn-primary" onclick="navigateTo('checkout')">HACER PEDIDO</button>
                            <button class="btn-secondary" onclick="clearCart()">VACIAR CARRITO</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Página de Checkout -->
        <section class="page checkout-page" id="page-checkout" style="display: none;">
            <div class="container">
                <div class="checkout-layout">
                    <div class="checkout-form">
                        <h2>Detalles del pedido</h2>
                    <form id="checkoutForm">
    <div class="form-row">
        <div class="form-group">
            <label>Nombre</label>
            <input type="text" id="customerName" required>
        </div>
        <div class="form-group">
            <label>Apellido</label>
            <input type="text" id="customerLastName" required>
        </div>
    </div>
    <div class="form-group">
        <label>Dirección</label>
        <input type="text" id="customerAddress" required>
    </div>
    <div class="form-group">
        <label>Descripción del Pedido (Opcional)</label>
        <textarea id="orderDescription" rows="3" placeholder="Ej: Entregar por la tarde, incluir bolsa..."></textarea>
    </div>
    <button type="button" class="btn-primary" onclick="submitOrder()">FINALIZAR PEDIDO</button>
</form>


                    </div>
                    <div class="checkout-summary">
                        <h2>Tu pedido</h2>
                        <div class="order-items" id="orderItems"></div>
                        <div class="order-total">
                            <strong>Total</strong>
                            <strong class="total-amount" id="orderTotal">$0,00</strong>
                        </div>
                        <button class="btn-primary btn-full" onclick="submitOrder()">REALIZAR PEDIDO</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Banner Section -->
    <section class="banner-section" id="bannerSection">
        <div class="container">
            <div class="banner-content">
                <div class="banner-logo">
                    <img src="assets/images/logo1.jpg" alt="Forrajeria Niki">
                </div>
                <div class="banner-features">
                    <div class="banner-feature">
                        <h3>Envíos</h3>
                        <p>Comprá desde casa</p>
                    </div>
                    <div class="banner-feature">
                        <h3>Stock permanente</h3>
                        <p>Gran variedad de productos</p>
                    </div>
                    <div class="banner-feature">
                        <h3>Todos los medios de pago</h3>
                        <p>Efectivo, tarjeta, mercadopago</p>
                    </div>
                    <div class="banner-feature">
                        <h3>Sitio seguro</h3>
                        <p>Protegemos tus datos</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="assets/images/logo1.jpg" alt="Forrajeria Niki">
                </div>
                <div class="footer-info">
                    <h3>Sobre nosotros</h3>
                    <a href="#nosotros" onclick="navigateTo('nosotros')">Nosotros</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2025 Forrajeria Niki.</p>
                <p>Todos los derechos reservados</p>
            </div>
        </div>
        <!-- Botón Admin (discreto) -->
<!-- Botón Admin -->
<!-- Botón Admin -->
<div style="text-align: center; margin-top: 20px;">
  <a href="admin.html" style="color: #999; font-size: 11px; text-decoration: none; cursor: pointer;">Admin</a>
</div>

    </footer>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTopBtn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 19V5M5 12l7-7 7 7"/>
        </svg>
    </button>

    <!-- Product Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div class="modal-body">
                <div class="modal-image">
                    <img id="modalImage" src="" alt="">
                    <div class="modal-thumbnails" id="modalThumbnails"></div>
                </div>
                <div class="modal-info">
                    <p class="cart-status" id="modalCartStatus">El carrito está vacío</p>
                    <h2 id="modalTitle"></h2>
                    <p class="modal-price" id="modalPrice"></p>
                    <div class="quantity-selector">
                        <button onclick="decreaseQuantity()">-</button>
                        <input type="number" id="modalQuantity" value="1" min="1">
                        <button onclick="increaseQuantity()">+</button>
                    </div>
                    <div class="modal-actions">
                        <button class="btn-primary" onclick="addToCartFromModal()">AGREGAR</button>
                        <button class="btn-icon" onclick="toggleWishlistFromModal()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Dropdown -->
    <div class="cart-dropdown" id="cartDropdown">
        <div class="cart-dropdown-header">
            <h3>Carrito</h3>
            <button class="modal-close" onclick="closeCartDropdown()">&times;</button>
        </div>
        <div class="cart-dropdown-items" id="cartDropdownItems"></div>
        <div class="cart-dropdown-total">
            <strong>Total:</strong>
            <strong id="cartDropdownTotal">$0,00</strong>
        </div>
        <button class="btn-primary btn-full" onclick="navigateTo('cart'); closeCartDropdown();">VER CARRITO</button>
    </div>

    <!-- SCRIPTS -->
    <script type="module" src="assets/js/script.js"></script>
</body>
</html>